<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WWF - Carbon Footprint Calculator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script>
        const { jsPDF } = window.jspdf;
    </script>
    <script src="pre_event.js" defer></script>
    <style>
        body {
            font-family: 'Open Sans', sans-serif;
            background-color: #fff;
            color: #333;
            margin: 0;
            padding: 0;
        }

        header {
            background-color: #000;
            padding: 15px;
        }

        header img {
            height: 70px;
        }

        h1 {
            color: #78B042;
            font-size: 2.5em;
            text-align: center;
            margin: 30px 10px;
        }


        .content-box {
            background-color: #f0f4ef;
            border-left: 8px solid #78B042;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
        }

        .highlight {
            color: #78B042;
            font-weight: 700;
        }

        /* ul {
            list-style: none;
            padding-left: 0;
        }

        ul li {
            background: #e8f2dd;
            padding: 15px;
            margin-bottom: 10px;
            border-left: 5px solid #78B042;
            border-radius: 5px;
            /* font-size: 1.1em; */
        }

        */ .buttons {
            text-align: center;
            margin: 40px 0;
        }

        .button {
            background-color: #78B042;
            color: #fff;
            padding: 18px 30px;
            margin: 15px;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            text-decoration: none;
            display: inline-block;
            transition: background-color 0.3s;
        }

        .button:hover {
            background-color: #5f8d35;
        }

        .illustration {
            text-align: center;
            margin: 30px 0;
        }

        .illustration img {
            width: 80%;
            max-width: 500px;
            border-radius: 12px;
        }

        footer {
            background-color: #000;
            color: #fff;
            text-align: center;
            padding: 25px;
            font-size: 14px;
        }

        .social-icons a {
            color: #78B042;
            margin: 0 10px;
            font-size: 22px;
            text-decoration: none;
            transition: color 0.3s;
        }

        .social-icons a:hover {
            color: #fff;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2em;
            }

            .button {
                padding: 15px 20px;
                font-size: 16px;
            }
        }

        #videoDiv {
            width: 100%;
            height: 360px;
            position: relative;
        }

        #video1 {
            margin: auto;
            display: block;
        }

        #videoMessage {
            position: absolute;
            top: 0;
            left: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
        }

        /* Form Container */
        #postEventForm {
            /* max-width: 500px; */
            /* width: 100%; */
            background: #ffffff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 -1px 6px rgba(0, 0, 0, 0.1);
            text-align: left;
            /* Keeps form elements left-aligned inside */
            margin-bottom: 30px;
            /* Prevents content from being cut off at the bottom */
        }

        /* Labels */
        label {
            /* font-weight: bold; */
            margin-top: 10px;
            display: block;
            /* width: 40%; */
            font-size: 14px;
        }

        /* Inputs & Dropdowns */
        input,
        select {

            padding: 8px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        /* Scrollable Dropdown */
        select {

            overflow-y: auto;
            /* appearance: none; */
            /* Removes default styles */
            background: #fff;
            cursor: pointer;
        }

        /* Ensuring Scroll Functionality */
        #schoolName,
        #eventName {
            max-height: 120px;
            /* Restrict height */
            overflow-y: auto;
            display: block;
        }

        /* Submit Button */
        button {
            /* background-color: #4CAF50; */
            background-color: #78B042;
            color: white;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            font-size: 16px;
            border-radius: 5px;
            margin-top: 10px;
            width: 100%;
        }

        button:hover {
            background-color: #78B042
                /* background-color: #45a049; */
        }

        .container {
            background: white;
            /* padding: 20px; */
            border-radius: 8px;
            /* box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); */
            /* width: 50%; */
            margin: 0 auto;
            text-align: center;
            max-width: 600px;
        }

        .newEntry {
            display: inline-grid;
            margin: 5px;
            /* width: 50%; */
        }

        table,
        th,
        tr,
        td {
            border: solid 1px silver;
            border-collapse: collapse;
            padding: 10px;
        }
    </style>
</head>

<body>
    <header>
        <a href="https://www.wwfindia.org/" target="_blank"><img
                src="https://academy.wwfindia.org/wp-content/themes/opa/assets/img/WWF_Logo.jpg"
                alt="WWF-India Logo"></a>
    </header>

    <div id="topContent">
        <div style="margin: 30px; text-align: center;">
            <a href="https://academy.wwfindia.org/" target="_blank"><img src="./opa.png" width="50%"
                    alt="WWF One Planet Academy Logo" style="border: 1px solid #80d44d; "></a>
            <a href="./index.html" style="text-decoration: none;">
                <h1 style="margin-top: 15px;">Carbon Footprint Calculator</h1>
            </a>
        </div>


    </div>

    <div style="margin: 20px; font-size: 19px;">

        <h2 style="text-align: center;">Pre-Event Form
            <!-- <i class="fa fa-print" style="padding-left:10px; font-size:20px" title="Print this form"
                onclick="window.print()"></i>
            <i class="fa fa-question-circle" style="padding-left:10px; font-size:16px" title="Help"
                onclick="alert('You can ')"></i> -->
        </h2>

        <div class="container" id="form-content" style="display: block;">


            <p style="font-size: 0.8em; text-align: center;">Fill up this form to plan your event by getting an estimate
                of your event's carbon footprint and
                recommendations for reducing it.
                <br /><br />
                <i>
                    Schools that actively track and reduce event emissions may be recognized as Climate Champion
                    Schools!
                </i>

                <br /><br />
                <i class="fa fa-print" style="padding:10px; font-size:14px; cursor:pointer;" title="Print this form"
                    onclick="window.print()">&nbsp Print this form</i>
                <i class="fa fa-question-circle" style="padding:10px; font-size:14px; cursor:pointer" title="Help"
                    onclick="alert('For planning a Carbon Conscious event at your School, you can provide the estimated data for the event here to see get an idea of carbon footprint based on it and how to reduce it. You can choose to skip the input boxes for which the data estimation is not available with you.')">&nbsp
                    Help</i>
            </p>

            <form id="postEventForm">
                <div style="text-align: center; margin: 10px;"><b>General Event Information</b>

                </div>

                <div class="newEntry"><label for="schoolName">School Name: <i class="fa fa-info-circle"
                            style=" font-size:14px;"
                            title="Select the school & event name if its already registered, or register them now!"
                            onclick="alert('Select the school & event name if its already registered, or register them now!')">
                        </i></label>
                    <select style="width: 250px;" id="schoolName" class="required" required>
                        <option value="">Select School</option>
                    </select>
                    <input style="width: 235px; display: none;" id="newSchoolName"
                        placeholder="Provide New School Name Here">
                </div>

                <div class="newEntry"><label for="eventName">Event Name: <i class="fa fa-info-circle"
                            style=" font-size:14px;"
                            title="Select the school & event name if its already registered, or register them now!"
                            onclick="alert('Select the school & event name if its already registered, or register them now!')">
                        </i></label>
                    <select style="width: 250px;" id="eventName" class="required" required>
                        <option value="">Select Event</option>
                    </select>
                    <input style="width: 235px;display: none;" id="newEventName"
                        placeholder="Provide New Event Name Here">
                </div>

                <div class="newEntry"><label for="eventDate">Event Date:</label>
                    <input style="width: 150px;" type="date" id="eventDate" class="required" required>
                </div>

                <div class="newEntry"><label for="eventDuration">Event Duration (in hours):</label>
                    <input style="width: 150px;" type="number" id="eventDuration" class="required" required>
                </div>

                <div class="newEntry"><label for="participantsCount">Participants Count:</label>
                    <input style="width: 150px;" type="number" id="participantsCount" class="required" required>
                </div>

                <div class="newEntry"><label for="contactPersonName">Contact Person Name:</label>
                    <input style="width: 150px;" type="text" id="contactPersonName" class="required" required>
                </div>

                <div class="newEntry"><label for="contactPersonMobile">Contact Person Mobile:</label>
                    <input style="width: 150px;" type="text" id="contactPersonMobile" class="required" required>
                </div>

                <div class="newEntry"><label for="contactPersonEmail">Contact Person Email:</label>
                    <input style="width: 150px;" type="email" id="contactPersonEmail" class="required" required>
                </div>

                <hr style="color:silver; margin: 30px 0px 30px 0px;" />
                <div style="text-align: center; margin: 10px;"><b>Energy Consumption</b></div>

                <div class="newEntry"><label for="electricityTypeUsage">Electricity Type Available:</label>
                    <select style="width: 200px; height: 34px;" id="electricityTypeUsage">
                        <option value="grid">Grid Electricity</option>
                        <option value="renewable">Renewable Energy</option>
                        <option value="na">Not Applicable</option>
                    </select>
                </div>

                <div class="newEntry"><label for="electricityUnitsUsage">Electricity Usage Estimation (Units):</label>
                    <input type="number" id="electricityUnitsUsage">
                </div>

                <div class="newEntry"><label for="generatorTypeUsage">Generator Type Available:</label>
                    <select style="width: 200px; height: 34px;" id="generatorTypeUsage">
                        <option value="diesel">Diesel</option>
                        <option value="petrol">Petrol</option>
                        <option value="na">Not Applicable</option>
                    </select>
                </div>

                <div class="newEntry"><label for="generatorLitersUsage">Generator Fuel Usage Estimation
                        (Liters):</label>
                    <input type="number" id="generatorLitersUsage">
                </div>

                <!-- <hr style="color:rgb(232, 232, 232); margin: 30px 0px 30px 0px;" /> -->
                <div style="text-align: center; margin: 30px 0px 10px;"><b>Event Logistics & Travel</b></div>



                <div class="newEntry"><label for="transportDieselUsage">Diesel Usage (For Transport) Estimation
                        (Liters):</label>
                    <input type="number" id="transportDieselUsage">
                </div>

                <div class="newEntry"><label for="transportPetrolUsage">Petrol Usage (For Transport) Estimation
                        (Liters):</label>
                    <input type="number" id="transportPetrolUsage">
                </div>

                <!-- <div class="newEntry"><label for="transportEVUsage">Transport EV Used (kWh):</label>
                    <input type="number" id="transportEVUsage">
                </div> -->

                <div class="newEntry"><label for="participantsUsingPublicTransport">Estimate Participant Count
                        To Use Public
                        Transport:</label>
                    <input type="number" style="width: 300px;" id="participantsUsingPublicTransport">
                </div>

                <div class="newEntry"><label for="participantsUsingCarpool">Estimate Participant Count To Use
                        Carpooling:</label>
                    <input type="number" style="width: 300px;" id="participantsUsingCarpool">
                </div>

                <div class="newEntry"><label for="participantsUsingPrivateVehicle">Estimate Participant Count To
                        Use Private
                        Vehicles:</label>
                    <input type="number" style="width: 300px;" id="participantsUsingPrivateVehicle">
                </div>

                <div class="newEntry"><label for="participantsUsingCycleWalk">Estimate Participant Count To Use
                        Bicycle/Walking:</label>
                    <input type="number" style="width: 300px;" id="participantsUsingCycleWalk">
                </div>

                <div style="text-align: center; margin: 30px 0px 10px;"><b>Waste Management</b></div>

                <div class="newEntry"><label for="wasteSegregationPossibility">Waste Segregation Implementation:
                    </label>
                    <select id="wasteSegregationPossibility">
                        <option value="Yes">Available</option>
                        <option value="No">Not Available</option>
                    </select>
                </div>

                <div class="newEntry"><label for="wasteCompostingPossibility">Waste Composting Implementation:
                    </label>
                    <select id="wasteCompostingPossibility">
                        <option value="Yes">Available</option>
                        <option value="No">Not Available</option>
                    </select>
                </div>

                <div class="newEntry"><label for="wasteLandfillKilogram">Waste Estimated To Be Sent to Landfill
                        (Kg):</label>
                    <input type="number" id="wasteLandfillKilogram">
                </div>
                <div style="text-align: center; margin-top: 30px;">
                    <!-- <button style="margin-bottom: 10px;" type="submit">Submit and Create Report</button> -->
                    <button type="button" style="margin-bottom: 10px;" onclick="handleSubmitAndGenerateReport()">Submit
                        and Create Report</button>

                    <a href="./index.html" style="font-size: 14px;">Go Back to Home Page</a>
                </div>

            </form>

        </div>


        <!-- Hidden Carbon Footprint Report for PDF -->
        <div class="container" id="report-content"
            style="display: none; margin: 0 auto; text-align: left; font-size: 0.9em; padding: 10px; border: 1px solid silver;">
            <h1 style="font-size: 2em;">🌍 Carbon Footprint Report</h1>
            <p>Thank you for submitting your event's estimated data! Here is the summary of carbon footprint of your
                event based on the inputs provided.</p>

            <h2>📊 Emissions Summary</h2>
            <table>
                <tr>
                    <th>Fuel/Source</th>
                    <th>Usage</th>
                    <th>Emission Factor</th>
                    <th>Total Emission (kg CO₂e)</th>
                </tr>
                <tbody id="pdfTableBody"></tbody>
                <tr>
                    <th colspan="3">Total Emissions</th>
                    <th style="color: red;"><span id="totalEmissions"></span> kg CO₂e</th>
                </tr>
            </table>

            <div class="summary">

                <section class="">
                    <h2>🌱 Strategies to Reduce Carbon Footprint</h2>

                    <h3>1. Energy Efficiency Measures</h3>
                    <ul>
                        <li>Increase the use of renewable energy sources.</li>
                        <li>Optimize event duration to minimize electricity use.</li>
                        <li>Avoid unnecessary generator usage.</li>
                    </ul>

                    <h3>2. Sustainable Travel Practices</h3>
                    <ul>
                        <li>Encourage participants to use public transport or carpool.</li>
                        <li>Provide incentives for cycling and walking.</li>
                        <li>Promote electric vehicle use for school transport.</li>
                    </ul>

                    <h3>3. Enhanced Waste Management</h3>
                    <ul>
                        <li>Implement a strict waste segregation policy.</li>
                        <li>Promote composting and recycling initiatives.</li>
                        <li>Reduce single-use plastics and encourage reusable materials.</li>
                    </ul>

                    <h3>4. Offsetting Carbon Footprint</h3>
                    <ul>
                        <li>Organize tree-planting activities to offset emissions.</li>
                        <li>Encourage schools to adopt carbon-neutral practices.</li>
                    </ul>
                </section>

            </div>

            <div class="footer">
                <p><strong>Prepared by:</strong> WWF-India</p>
                <p>📅 Generated on: <span id="report-date"></span></p>
            </div>
        </div>

        <!-- Include html2pdf.js Library -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>

        <script>
            document.getElementById("report-date").innerText = new Date().toLocaleDateString();
        </script>

    </div>
    </div>
    <footer>

        <p>© 2025 <a href="https://academy.wwfindia.org/" target="_blank" style="color:wheat">WWF Academy</a>. All
            Rights Reserved</p>
    </footer>

</body>

</html>